<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="time"></div>
<script>
   /* function send() {
        return new Promise(function (reslove, reject) {
            setTimeout(function () {
                var xhr = new XMLHttpRequest;
                xhr.open('GET', 'http://localhost:9090/time', true);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4) {
                        if (/2\d{2}/.test(xhr.status)) {
                            reslove(xhr.responseText);
                        } else {
                            reject(xhr.responseText);
                        }
                    }
                };
                xhr.send()
            }, 1000);
        });
    }
    send().then(function(data){
        document.querySelector('#time').innerHTML=data;
        return send();
    })*/
    function sendAjax(){

        var xhr = new XMLHttpRequest;
        xhr.open('GET', 'http://localhost:9090/time', true);

        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4) {
                if (/2\d{2}/.test(xhr.status)) {
                    console.log(xhr);
                    document.querySelector('#time').innerHTML=xhr.responseText;
                    sendAjax();
                }
            }
        };
        xhr.send();
    }
    sendAjax();
</script>
</body>
</html>